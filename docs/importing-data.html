<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Chapter 3 Importing Data | Introduction to Quantitative Text Analysis</title>
  <meta name="description" content="Theory and Methods for Quantitative Text Analysis" />
  <meta name="generator" content="bookdown 0.26 and GitBook 2.6.7" />

  <meta property="og:title" content="Chapter 3 Importing Data | Introduction to Quantitative Text Analysis" />
  <meta property="og:type" content="book" />
  
  <meta property="og:description" content="Theory and Methods for Quantitative Text Analysis" />
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Chapter 3 Importing Data | Introduction to Quantitative Text Analysis" />
  
  <meta name="twitter:description" content="Theory and Methods for Quantitative Text Analysis" />
  

<meta name="author" content="Kostas Gemenis &amp; Bastiaan Bruinsma" />


<meta name="date" content="2022-05-06" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="installing-packages.html"/>
<link rel="next" href="reliability-validity.html"/>
<script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.6/dist/fuse.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />








<link href="libs/anchor-sections-1.1.0/anchor-sections.css" rel="stylesheet" />
<link href="libs/anchor-sections-1.1.0/anchor-sections-hash.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.1.0/anchor-sections.js"></script>
<script src="libs/htmlwidgets-1.5.4/htmlwidgets.js"></script>
<link href="libs/datatables-css-0.0.0/datatables-crosstalk.css" rel="stylesheet" />
<script src="libs/datatables-binding-0.17/datatables.js"></script>
<link href="libs/dt-core-1.10.20/css/jquery.dataTables.min.css" rel="stylesheet" />
<link href="libs/dt-core-1.10.20/css/jquery.dataTables.extra.css" rel="stylesheet" />
<script src="libs/dt-core-1.10.20/js/jquery.dataTables.min.js"></script>
<link href="libs/crosstalk-1.2.0/css/crosstalk.min.css" rel="stylesheet" />
<script src="libs/crosstalk-1.2.0/js/crosstalk.min.js"></script>


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<style type="text/css">
/* Used with Pandoc 2.11+ new --citeproc when CSL is used */
div.csl-bib-body { }
div.csl-entry {
  clear: both;
  margin-bottom: 2em;
}
.hanging div.csl-entry {
  margin-left:2em;
  text-indent:-2em;
}
div.csl-left-margin {
  min-width:2em;
  float:left;
}
div.csl-right-inline {
  margin-left:2em;
  padding-left:1em;
}
div.csl-indent {
  margin-left: 2em;
}
</style>

<link rel="stylesheet" href="custom.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">Introduction to Quantitative Text Analysis</a></li>

<li class="divider"></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Welcome!</a></li>
<li class="chapter" data-level="1" data-path="getting-started.html"><a href="getting-started.html"><i class="fa fa-check"></i><b>1</b> Getting Started</a>
<ul>
<li class="chapter" data-level="1.1" data-path="getting-started.html"><a href="getting-started.html#r-on-windows"><i class="fa fa-check"></i><b>1.1</b> R on Windows</a></li>
<li class="chapter" data-level="1.2" data-path="getting-started.html"><a href="getting-started.html#r-on-linux"><i class="fa fa-check"></i><b>1.2</b> R on Linux</a></li>
<li class="chapter" data-level="1.3" data-path="getting-started.html"><a href="getting-started.html#r-on-macos"><i class="fa fa-check"></i><b>1.3</b> R on macOS</a></li>
<li class="chapter" data-level="1.4" data-path="getting-started.html"><a href="getting-started.html#r-in-the-cloud"><i class="fa fa-check"></i><b>1.4</b> R in the Cloud</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="installing-packages.html"><a href="installing-packages.html"><i class="fa fa-check"></i><b>2</b> Installing Packages</a>
<ul>
<li class="chapter" data-level="2.1" data-path="installing-packages.html"><a href="installing-packages.html#installing-from-cran"><i class="fa fa-check"></i><b>2.1</b> Installing from CRAN</a></li>
<li class="chapter" data-level="2.2" data-path="installing-packages.html"><a href="installing-packages.html#installing-from-github"><i class="fa fa-check"></i><b>2.2</b> Installing from GitHub</a></li>
<li class="chapter" data-level="2.3" data-path="installing-packages.html"><a href="installing-packages.html#packages-for-quantitative-text-analysis-in-r"><i class="fa fa-check"></i><b>2.3</b> Packages for Quantitative Text Analysis in R</a></li>
<li class="chapter" data-level="2.4" data-path="installing-packages.html"><a href="installing-packages.html#issues-bugs-and-errors"><i class="fa fa-check"></i><b>2.4</b> Issues, Bugs and Errors</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="importing-data.html"><a href="importing-data.html"><i class="fa fa-check"></i><b>3</b> Importing Data</a>
<ul>
<li class="chapter" data-level="3.1" data-path="importing-data.html"><a href="importing-data.html#text-in-r"><i class="fa fa-check"></i><b>3.1</b> Text in R</a></li>
<li class="chapter" data-level="3.2" data-path="importing-data.html"><a href="importing-data.html#import-.txt-files"><i class="fa fa-check"></i><b>3.2</b> Import .txt Files</a></li>
<li class="chapter" data-level="3.3" data-path="importing-data.html"><a href="importing-data.html#import-.pdf-files"><i class="fa fa-check"></i><b>3.3</b> Import .pdf Files</a></li>
<li class="chapter" data-level="3.4" data-path="importing-data.html"><a href="importing-data.html#import-.csv-files"><i class="fa fa-check"></i><b>3.4</b> Import .csv Files</a></li>
<li class="chapter" data-level="3.5" data-path="importing-data.html"><a href="importing-data.html#import-from-an-api"><i class="fa fa-check"></i><b>3.5</b> Import from an API</a></li>
<li class="chapter" data-level="3.6" data-path="importing-data.html"><a href="importing-data.html#import-using-web-scraping"><i class="fa fa-check"></i><b>3.6</b> Import using Web Scraping</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="reliability-validity.html"><a href="reliability-validity.html"><i class="fa fa-check"></i><b>4</b> Reliability and Validity</a>
<ul>
<li class="chapter" data-level="4.1" data-path="reliability-validity.html"><a href="reliability-validity.html#inter-coder-agreement"><i class="fa fa-check"></i><b>4.1</b> Inter-Coder Agreement</a></li>
<li class="chapter" data-level="4.2" data-path="reliability-validity.html"><a href="reliability-validity.html#visualizing-quality"><i class="fa fa-check"></i><b>4.2</b> Visualizing Quality</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="preliminaries.html"><a href="preliminaries.html"><i class="fa fa-check"></i><b>5</b> Preliminaries</a>
<ul>
<li class="chapter" data-level="5.1" data-path="preliminaries.html"><a href="preliminaries.html#the-corpus"><i class="fa fa-check"></i><b>5.1</b> The Corpus</a></li>
<li class="chapter" data-level="5.2" data-path="preliminaries.html"><a href="preliminaries.html#keywords-in-context"><i class="fa fa-check"></i><b>5.2</b> Keywords in Context</a></li>
<li class="chapter" data-level="5.3" data-path="preliminaries.html"><a href="preliminaries.html#visualisations-and-descriptives"><i class="fa fa-check"></i><b>5.3</b> Visualisations and Descriptives</a></li>
<li class="chapter" data-level="5.4" data-path="preliminaries.html"><a href="preliminaries.html#text-statistics"><i class="fa fa-check"></i><b>5.4</b> Text Statistics</a></li>
</ul></li>
<li class="chapter" data-level="6" data-path="dictionary-analysis.html"><a href="dictionary-analysis.html"><i class="fa fa-check"></i><b>6</b> Dictionary Analysis</a>
<ul>
<li class="chapter" data-level="6.1" data-path="dictionary-analysis.html"><a href="dictionary-analysis.html#classical-dictionary-analysis"><i class="fa fa-check"></i><b>6.1</b> Classical Dictionary Analysis</a></li>
<li class="chapter" data-level="6.2" data-path="dictionary-analysis.html"><a href="dictionary-analysis.html#sentiment-analysis"><i class="fa fa-check"></i><b>6.2</b> Sentiment Analysis</a>
<ul>
<li class="chapter" data-level="6.2.1" data-path="dictionary-analysis.html"><a href="dictionary-analysis.html#movie-reviews"><i class="fa fa-check"></i><b>6.2.1</b> Movie Reviews</a></li>
<li class="chapter" data-level="6.2.2" data-path="dictionary-analysis.html"><a href="dictionary-analysis.html#twitter"><i class="fa fa-check"></i><b>6.2.2</b> Twitter</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="7" data-path="scaling.html"><a href="scaling.html"><i class="fa fa-check"></i><b>7</b> Scaling Methods</a>
<ul>
<li class="chapter" data-level="7.1" data-path="scaling.html"><a href="scaling.html#wordscores"><i class="fa fa-check"></i><b>7.1</b> Wordscores</a></li>
<li class="chapter" data-level="7.2" data-path="scaling.html"><a href="scaling.html#wordfish"><i class="fa fa-check"></i><b>7.2</b> Wordfish</a></li>
<li class="chapter" data-level="7.3" data-path="scaling.html"><a href="scaling.html#correspondence-analysis"><i class="fa fa-check"></i><b>7.3</b> Correspondence Analysis</a></li>
</ul></li>
<li class="chapter" data-level="8" data-path="supervised-methods.html"><a href="supervised-methods.html"><i class="fa fa-check"></i><b>8</b> Supervised Methods</a>
<ul>
<li class="chapter" data-level="8.1" data-path="supervised-methods.html"><a href="supervised-methods.html#support-vector-machines"><i class="fa fa-check"></i><b>8.1</b> Support Vector Machines</a>
<ul>
<li class="chapter" data-level="8.1.1" data-path="supervised-methods.html"><a href="supervised-methods.html#svm-with-rtexttools"><i class="fa fa-check"></i><b>8.1.1</b> SVM with RTextTools</a></li>
<li class="chapter" data-level="8.1.2" data-path="supervised-methods.html"><a href="supervised-methods.html#svm-with-quanteda"><i class="fa fa-check"></i><b>8.1.2</b> SVM with Quanteda</a></li>
</ul></li>
<li class="chapter" data-level="8.2" data-path="supervised-methods.html"><a href="supervised-methods.html#naive-bayes"><i class="fa fa-check"></i><b>8.2</b> Naive Bayes</a></li>
</ul></li>
<li class="chapter" data-level="9" data-path="unsupervised-methods.html"><a href="unsupervised-methods.html"><i class="fa fa-check"></i><b>9</b> Unsupervised Methods</a>
<ul>
<li class="chapter" data-level="9.1" data-path="unsupervised-methods.html"><a href="unsupervised-methods.html#latent-dirichlet-allocation"><i class="fa fa-check"></i><b>9.1</b> Latent Dirichlet Allocation</a></li>
<li class="chapter" data-level="9.2" data-path="unsupervised-methods.html"><a href="unsupervised-methods.html#seeded-latent-dirichlet-allocation"><i class="fa fa-check"></i><b>9.2</b> Seeded Latent Dirichlet Allocation</a></li>
<li class="chapter" data-level="9.3" data-path="unsupervised-methods.html"><a href="unsupervised-methods.html#structural-topic-model"><i class="fa fa-check"></i><b>9.3</b> Structural Topic Model</a></li>
</ul></li>
<li class="chapter" data-level="10" data-path="texttricks.html"><a href="texttricks.html"><i class="fa fa-check"></i><b>10</b> Texttricks</a></li>
<li class="chapter" data-level="" data-path="references.html"><a href="references.html"><i class="fa fa-check"></i>References</a></li>
<li class="divider"></li>
<li><a href="bastiaan.bruinsma@gmail.com" target="blank">Bastiaan Bruinsma</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Introduction to Quantitative Text Analysis</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="importing-data" class="section level1 hasAnchor" number="3">
<h1><span class="header-section-number">Chapter 3</span> Importing Data<a href="importing-data.html#importing-data" class="anchor-section" aria-label="Anchor link to header"></a></h1>
<p>No analysis is possible unless we have some data to work with. In the following exercises, we will look at five different ways to get textual data into R: a) by using .txt files, b) by using .pdf files, c) by using .csv files, d) by using an API, and e) by using web scraping. Before this, we will have a brief look at what digital texts are, and how R deals with them.</p>
<div id="text-in-r" class="section level2 hasAnchor" number="3.1">
<h2><span class="header-section-number">3.1</span> Text in R<a href="importing-data.html#text-in-r" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>R sees any form of text as a type of characters vector. In their simplest form, these vectors only have a single character in them. At their most complicated, they can contain many sentences or even whole stories. To see how many characters a vector has, we can use the <code>nchar</code> function:</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb5-1"><a href="importing-data.html#cb5-1" aria-hidden="true" tabindex="-1"></a>vector1 <span class="ot">&lt;-</span> <span class="st">&quot;This is the first of our character vectors&quot;</span></span>
<span id="cb5-2"><a href="importing-data.html#cb5-2" aria-hidden="true" tabindex="-1"></a><span class="fu">nchar</span>(vector1)</span></code></pre></div>
<pre><code>## [1] 42</code></pre>
<div class="sourceCode" id="cb7"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb7-1"><a href="importing-data.html#cb7-1" aria-hidden="true" tabindex="-1"></a><span class="fu">length</span>(vector1)</span></code></pre></div>
<pre><code>## [1] 1</code></pre>
<p>This example also shows the logic of R. First, we assign the text we have to a certain object. We do so using the <code>&lt;-</code> arrow. This arrow points from the text we have to the object R stores it in, which we here call <code>vector1</code>. We then ask R to give us the number of characters inside this object, 40 in this case. The <code>length</code> command returns something else, namely 1. This means that we have a single sentence, or word, in our object. If we want to, we can place more sentences inside our object using the <code>c()</code> option:</p>
<div class="sourceCode" id="cb9"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb9-1"><a href="importing-data.html#cb9-1" aria-hidden="true" tabindex="-1"></a>vector2 <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&quot;This is an example&quot;</span>, <span class="st">&quot;This is another&quot;</span>, <span class="st">&quot;And so we can go on.&quot;</span>)</span>
<span id="cb9-2"><a href="importing-data.html#cb9-2" aria-hidden="true" tabindex="-1"></a><span class="fu">length</span>(vector2)</span></code></pre></div>
<pre><code>## [1] 3</code></pre>
<div class="sourceCode" id="cb11"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb11-1"><a href="importing-data.html#cb11-1" aria-hidden="true" tabindex="-1"></a><span class="fu">nchar</span>(vector2)</span></code></pre></div>
<pre><code>## [1] 18 15 20</code></pre>
<div class="sourceCode" id="cb13"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb13-1"><a href="importing-data.html#cb13-1" aria-hidden="true" tabindex="-1"></a><span class="fu">sum</span>(<span class="fu">nchar</span>(vector2))</span></code></pre></div>
<pre><code>## [1] 53</code></pre>
<p>Another thing we can do is extract certain words from a sentence. For this, we use the <code>substr()</code> function. With this function, R gives us all the characters that occur between two specific positions. So, when we want the characters between the 4th and 10th characters, we write:</p>
<div class="sourceCode" id="cb15"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb15-1"><a href="importing-data.html#cb15-1" aria-hidden="true" tabindex="-1"></a>vector3 <span class="ot">&lt;-</span> <span class="st">&quot;This is yet another sentence&quot;</span></span>
<span id="cb15-2"><a href="importing-data.html#cb15-2" aria-hidden="true" tabindex="-1"></a><span class="fu">substr</span>(vector3, <span class="dv">4</span>, <span class="dv">10</span>)</span></code></pre></div>
<pre><code>## [1] &quot;s is ye&quot;</code></pre>
<p>We can also split a character vector into smaller parts. We often do this when we want to split a longer text into several sentences. To do so, we use the <code>strsplit</code> function:</p>
<div class="sourceCode" id="cb17"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb17-1"><a href="importing-data.html#cb17-1" aria-hidden="true" tabindex="-1"></a>vector3 <span class="ot">&lt;-</span> <span class="st">&quot;Here is a sentence - And a second&quot;</span></span>
<span id="cb17-2"><a href="importing-data.html#cb17-2" aria-hidden="true" tabindex="-1"></a>parts1 <span class="ot">&lt;-</span> <span class="fu">strsplit</span>(vector3, <span class="st">&quot;-&quot;</span>)</span>
<span id="cb17-3"><a href="importing-data.html#cb17-3" aria-hidden="true" tabindex="-1"></a>parts1</span></code></pre></div>
<pre><code>## [[1]]
## [1] &quot;Here is a sentence &quot; &quot; And a second&quot;</code></pre>
<p>If we now look in the Environment window, we will see that R calls <code>parts1</code> a list. This is another type of object that R uses to store information. We will see it more often later on. For now, it is good to remember that lists in R can have many vectors (the layers of the list) and that in each of these vectors we can store many objects. Here, our list has only a single vector. To create a longer list, we have to add more vectors, and then join them together, again using the <code>c()</code> command:</p>
<div class="sourceCode" id="cb19"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb19-1"><a href="importing-data.html#cb19-1" aria-hidden="true" tabindex="-1"></a>vector4 <span class="ot">&lt;-</span> <span class="st">&quot;Here is another sentence - And one more&quot;</span></span>
<span id="cb19-2"><a href="importing-data.html#cb19-2" aria-hidden="true" tabindex="-1"></a>parts2 <span class="ot">&lt;-</span> <span class="fu">strsplit</span>(vector4, <span class="st">&quot;-&quot;</span>)</span>
<span id="cb19-3"><a href="importing-data.html#cb19-3" aria-hidden="true" tabindex="-1"></a>parts3 <span class="ot">&lt;-</span> <span class="fu">c</span>(parts1, parts2)</span></code></pre></div>
<p>We can now look at this new list in the Environment and check that it indeed has two elements. A further thing we can do is to join many vectors together. For this, we can use the <code>paste</code> function. Here, the <code>sep</code> argument defines how R will combine the elements:</p>
<div class="sourceCode" id="cb20"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb20-1"><a href="importing-data.html#cb20-1" aria-hidden="true" tabindex="-1"></a>fruits <span class="ot">&lt;-</span> <span class="fu">paste</span>(<span class="st">&quot;oranges&quot;</span>, <span class="st">&quot;lemons&quot;</span>, <span class="st">&quot;pears&quot;</span>, <span class="at">sep =</span> <span class="st">&quot;-&quot;</span>)</span>
<span id="cb20-2"><a href="importing-data.html#cb20-2" aria-hidden="true" tabindex="-1"></a>fruits</span></code></pre></div>
<pre><code>## [1] &quot;oranges-lemons-pears&quot;</code></pre>
<p>Note that we can also use this command that paste objects that we made earlier together. For example:</p>
<div class="sourceCode" id="cb22"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb22-1"><a href="importing-data.html#cb22-1" aria-hidden="true" tabindex="-1"></a>sentences <span class="ot">&lt;-</span> <span class="fu">paste</span>(vector3, vector4, <span class="at">sep =</span> <span class="st">&quot;.&quot;</span>)</span>
<span id="cb22-2"><a href="importing-data.html#cb22-2" aria-hidden="true" tabindex="-1"></a>sentences</span></code></pre></div>
<pre><code>## [1] &quot;Here is a sentence - And a second.Here is another sentence - And one more&quot;</code></pre>
<p>Finally, we can change the case of the sentence. To do this, we can use <code>tolower</code> and <code>toupper</code>:</p>
<div class="sourceCode" id="cb24"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb24-1"><a href="importing-data.html#cb24-1" aria-hidden="true" tabindex="-1"></a><span class="fu">tolower</span>(sentences)</span></code></pre></div>
<pre><code>## [1] &quot;here is a sentence - and a second.here is another sentence - and one more&quot;</code></pre>
<div class="sourceCode" id="cb26"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb26-1"><a href="importing-data.html#cb26-1" aria-hidden="true" tabindex="-1"></a><span class="fu">toupper</span>(sentences)</span></code></pre></div>
<pre><code>## [1] &quot;HERE IS A SENTENCE - AND A SECOND.HERE IS ANOTHER SENTENCE - AND ONE MORE&quot;</code></pre>
<p>Again, we can also run the same command when we have more than a single element in our vector:</p>
<div class="sourceCode" id="cb28"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb28-1"><a href="importing-data.html#cb28-1" aria-hidden="true" tabindex="-1"></a>sentences2 <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&quot;This is a piece of example text&quot;</span>, <span class="st">&quot;This is another piece of example text&quot;</span>)</span>
<span id="cb28-2"><a href="importing-data.html#cb28-2" aria-hidden="true" tabindex="-1"></a><span class="fu">toupper</span>(sentences2)</span></code></pre></div>
<pre><code>## [1] &quot;THIS IS A PIECE OF EXAMPLE TEXT&quot;      
## [2] &quot;THIS IS ANOTHER PIECE OF EXAMPLE TEXT&quot;</code></pre>
<div class="sourceCode" id="cb30"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb30-1"><a href="importing-data.html#cb30-1" aria-hidden="true" tabindex="-1"></a><span class="fu">tolower</span>(sentences2)</span></code></pre></div>
<pre><code>## [1] &quot;this is a piece of example text&quot;      
## [2] &quot;this is another piece of example text&quot;</code></pre>
<p>And that is it. As you can see, the options for text analysis in basic R are rather limited. This is why packages such as <code>quanteda</code> exist in the first place. Note though, that even <code>quanteda</code> uses the same logic of character vectors and combinations that we saw here.</p>
</div>
<div id="import-.txt-files" class="section level2 hasAnchor" number="3.2">
<h2><span class="header-section-number">3.2</span> Import .txt Files<a href="importing-data.html#import-.txt-files" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>The .txt format is one of the most common formats to store texts in. Not only are these files format-free, but they are also small in size, support a wide array of characters, and are readable on all platforms. To read them into R, we first specify where on our computer these files are. Here they are in a folder called
<strong>Texts</strong> in our Working Directory. To tell R where this is, we first set our working directory (to see where your current Working Directory is, type <code>getwd()</code> into the Console). Then, we add <code>/Texts</code> to this and save it as <code>txt_directory</code>. We can then use this to refer to this folder when we import the files using <code>readtext</code>:</p>
<div class="sourceCode" id="cb32"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb32-1"><a href="importing-data.html#cb32-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(readtext)</span>
<span id="cb32-2"><a href="importing-data.html#cb32-2" aria-hidden="true" tabindex="-1"></a><span class="fu">setwd</span>(<span class="st">&quot;Your Working Directory&quot;</span>)</span>
<span id="cb32-3"><a href="importing-data.html#cb32-3" aria-hidden="true" tabindex="-1"></a>txt_directory <span class="ot">&lt;-</span> <span class="fu">paste0</span>(<span class="fu">getwd</span>(), <span class="st">&quot;/Texts&quot;</span>)</span>
<span id="cb32-4"><a href="importing-data.html#cb32-4" aria-hidden="true" tabindex="-1"></a>data_texts <span class="ot">&lt;-</span> <span class="fu">readtext</span>(<span class="fu">paste0</span>(txt_directory, <span class="st">&quot;*&quot;</span>), <span class="at">encoding =</span> <span class="st">&quot;UTF-8&quot;</span>)</span></code></pre></div>
<p>Note that now you not only have the texts in your environment but the object <code>txt_directory</code> as well. Note that this is nothing more than a string that we can use later on to prevent us from having to type the whole address of the folder.</p>
</div>
<div id="import-.pdf-files" class="section level2 hasAnchor" number="3.3">
<h2><span class="header-section-number">3.3</span> Import .pdf Files<a href="importing-data.html#import-.pdf-files" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Apart from .txt, .pdf files are another common format for texts. Yet, as .pdf files contain a lot of information (tables, figures and graphs), besides the texts, we will have to “get out” the texts first. To do so, we first use the <code>pdftools</code> package to convert the .pdf files into .txt files, which we then read (as above) with <code>readtext</code>. Note that this only works if the .pdf files are <em>readable</em>. This means that we can select (and copy-paste) the text in them. Thus, <code>readtext</code> does not work with .pdf files where we cannot select the text. Often this happens when a .pdf is a scan or contains many figures. In such cases, you might have to use optical character recognition (OCR) (such as offered by the <a href="https://github.com/tesseract-ocr/tesseract"><code>tesseract</code></a> package) to generate the .txt files.</p>
<p>As with the .txt files above, here we will place our .pdf files in a folder called <strong>PDF</strong> in our Working Directory. Also, we have an (empty) folder called <strong>Texts</strong> were R will write the new .txt files to. We then tell R where these folder are:</p>
<div class="sourceCode" id="cb33"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb33-1"><a href="importing-data.html#cb33-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(pdftools)</span>
<span id="cb33-2"><a href="importing-data.html#cb33-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(readtext)</span>
<span id="cb33-3"><a href="importing-data.html#cb33-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb33-4"><a href="importing-data.html#cb33-4" aria-hidden="true" tabindex="-1"></a>pdf_directory <span class="ot">&lt;-</span> <span class="fu">paste0</span>(<span class="fu">getwd</span>(), <span class="st">&quot;/PDF&quot;</span>)</span>
<span id="cb33-5"><a href="importing-data.html#cb33-5" aria-hidden="true" tabindex="-1"></a>txt_directory <span class="ot">&lt;-</span> <span class="fu">paste0</span>(<span class="fu">getwd</span>(), <span class="st">&quot;/Texts&quot;</span>)</span></code></pre></div>
<p>Then, we ask R for a list of all the files in the .pdf directory. This is both to ensure that we are not overlooking anything and to tell R which files are in the folder. Here, setting <code>recurse=FALSE</code> means that we only list the files in the main folder and not any files that are in other folders in this main folder.</p>
<div class="sourceCode" id="cb34"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb34-1"><a href="importing-data.html#cb34-1" aria-hidden="true" tabindex="-1"></a>files <span class="ot">&lt;-</span> <span class="fu">list.files</span>(pdf_directory, <span class="at">pattern =</span> <span class="st">&quot;.pdf&quot;</span>, <span class="at">recursive =</span> <span class="cn">FALSE</span>, <span class="at">full.names =</span> <span class="cn">TRUE</span>)</span>
<span id="cb34-2"><a href="importing-data.html#cb34-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb34-3"><a href="importing-data.html#cb34-3" aria-hidden="true" tabindex="-1"></a>files</span></code></pre></div>
<p>While we could convert a single document at a time, more often we have to deal with more than one document. To read all documents at once, we have to write a little function. This function does the following. First, we tell R to make a new function that we label <code>extract</code>, and as input give it an element we call <code>filename</code>. This file name is at this point an empty element, but to which we will later refer the files we want to extract. Then, we tell it to print the file name to ensure that we are working with the right files while the function is running. In the next step, we tell it to try to read this file name using the <code>pdf_text</code> function and save the result as a file called <code>text</code>. Afterwards, we tell it to do so for each of the files that end on .pdf that are in the element <code>files</code>. Then, we have it write this text file to a new file. This file is the extracted .pdf in .txt form:</p>
<div class="sourceCode" id="cb35"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb35-1"><a href="importing-data.html#cb35-1" aria-hidden="true" tabindex="-1"></a>extract <span class="ot">&lt;-</span> <span class="cf">function</span>(filename) {</span>
<span id="cb35-2"><a href="importing-data.html#cb35-2" aria-hidden="true" tabindex="-1"></a> <span class="fu">print</span>(filename)</span>
<span id="cb35-3"><a href="importing-data.html#cb35-3" aria-hidden="true" tabindex="-1"></a> <span class="fu">try</span>({text <span class="ot">&lt;-</span> <span class="fu">pdf_text</span>(filename)})</span>
<span id="cb35-4"><a href="importing-data.html#cb35-4" aria-hidden="true" tabindex="-1"></a> title <span class="ot">&lt;-</span><span class="fu">gsub</span>(<span class="st">&quot;(.*)/([^/]*).pdf&quot;</span>, <span class="st">&quot;</span><span class="sc">\\</span><span class="st">2&quot;</span>, filename)</span>
<span id="cb35-5"><a href="importing-data.html#cb35-5" aria-hidden="true" tabindex="-1"></a> <span class="fu">write</span>(text, <span class="fu">file.path</span>(txt_directory, <span class="fu">paste0</span>(title, <span class="st">&quot;.txt&quot;</span>)))</span>
<span id="cb35-6"><a href="importing-data.html#cb35-6" aria-hidden="true" tabindex="-1"></a>}</span></code></pre></div>
<p>We then use this function to extract all the .pdf files in the <code>pdf_directory</code> folder. To do so, we use a <code>for</code> loop. The logic of this loop is that for each individual <code>file</code> in the element <code>files</code>, we run the <code>extract</code> function we created. This will create an element called <code>file</code> for the file R is currently working on, and will create the .txt files in the <code>txt_directory</code>:</p>
<div class="sourceCode" id="cb36"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb36-1"><a href="importing-data.html#cb36-1" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span>(file <span class="cf">in</span> files) {</span>
<span id="cb36-2"><a href="importing-data.html#cb36-2" aria-hidden="true" tabindex="-1"></a> <span class="fu">extract</span>(file)</span>
<span id="cb36-3"><a href="importing-data.html#cb36-3" aria-hidden="true" tabindex="-1"></a>}</span></code></pre></div>
<p>We can now read the .txt files into R. To do so, we use <code>paste0(txt_directory, "*")</code> to tell <code>readtext</code> to look into our <code>txt_directory</code>, and read any file in there. Besides this, we need to specify the encoding. Most often, this is <strong>UTF-8</strong>, though sometimes you might find <strong>latin1</strong> or <strong>Windows-1252</strong> encodings. While <code>readtext</code> will convert all these to <strong>UTF-8</strong>, you have to specify the original encoding. To find out which one you need, you have to look into the properties of the .txt file.</p>
<p>Assuming our texts are in UTF-8 encoding, we run:</p>
<div class="sourceCode" id="cb37"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb37-1"><a href="importing-data.html#cb37-1" aria-hidden="true" tabindex="-1"></a>data_texts <span class="ot">&lt;-</span> <span class="fu">readtext</span>(<span class="fu">paste0</span>(txt_directory, <span class="st">&quot;*&quot;</span>), <span class="at">encoding =</span> <span class="st">&quot;UTF-8&quot;</span>)</span></code></pre></div>
<p>The result of this is a data frame of texts, which we can transform into a corpus for use in <code>quanteda</code> or keep as it is for other types of analyses.</p>
</div>
<div id="import-.csv-files" class="section level2 hasAnchor" number="3.4">
<h2><span class="header-section-number">3.4</span> Import .csv Files<a href="importing-data.html#import-.csv-files" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>We can also choose not to import the texts into R in a direct fashion, but import a .csv file with word counts instead. One way to generate these counts is by using JFreq <span class="citation">(<a href="#ref-Lowe2011b" role="doc-biblioref">Lowe, 2011</a>)</span>. This stand-alone programme generates a .csv file where rows represent the documents and columns the individual words. The cells then contain the word counts for each word within each document. Besides, JFreq also allows for some basic pre-processing (though we would suggest you do this in R). Note that while JFreq is not under active maintenance, you can still find it at <a href="https://conjugateprior.org/software/jfreq/" class="uri">https://conjugateprior.org/software/jfreq/</a>.</p>
<p>To use JFreq, open the programme and drag and drop all the documents you want to process into the window of the programme. Once you do this, the document file names will appear in the document window. Then, you can choose from several pre-processing options. Amongst these are options to make all words lower-case or remove numbers, currency symbols, or stop words. The latter are words that often appear in texts which do not carry important meaning. These are words such as ‘and’, ‘or’ and ‘but’. As stop words are language-specific and often context-specific as well, we need to tell JFreq what words are stop words. We can do so by putting all the stop words in a separate .txt file and load it in JFreq. You can also find many lists of stop words for different languages on-line (see, for example: <a href="https://github.com/igorbrigadir/stopwords" class="uri">https://github.com/igorbrigadir/stopwords</a>. Finally, we can apply a stemmer which reduces words such as ‘Europe’ and ‘European’ to a single ’Europ*’ stem. JFreq allows us to use pre-defined stemmers by choosing the relevant language from a drop-down menu. Figure <a href="importing-data.html#fig:figure-jfreq">3.1</a> shows JFreq while importing the .txt files of some electoral manifestos.</p>
<br />

<div class="figure"><span style="display:block;" id="fig:figure-jfreq"></span>
<img src="figures/jfreq.png" alt="Overview of JFreq with several documents loaded" width="100%" />
<p class="caption">
Figure 3.1: Overview of JFreq with several documents loaded
</p>
</div>
<p><br />
</p>
<p>Note that here the encoding is UTF-8 while the locale is English (UK). Once we have specified all the options we want, we give a name for the output folder and press <strong>Process</strong>. Now we go to that folder we named and copy-paste the <strong>data.csv</strong> file into your Working Directory. In R, we then run the following:</p>
<div class="sourceCode" id="cb38"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb38-1"><a href="importing-data.html#cb38-1" aria-hidden="true" tabindex="-1"></a>data_manifestos <span class="ot">&lt;-</span> <span class="fu">read.csv</span>(<span class="st">&quot;data.csv&quot;</span>, <span class="at">row.names =</span> <span class="dv">1</span>, <span class="at">header =</span> <span class="cn">TRUE</span>)</span></code></pre></div>
<p>By specifying <code>row.names=1</code>, we store the information of the first column in the data frame itself. This column, containing the names of the documents now belongs to the object of the data frame and does not appear as a separate column. The same is true for <code>header=TRUE</code> which ensures that the first row gives names to the columns (in this case containing the words).</p>
</div>
<div id="import-from-an-api" class="section level2 hasAnchor" number="3.5">
<h2><span class="header-section-number">3.5</span> Import from an API<a href="importing-data.html#import-from-an-api" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Another way to import texts is by using an Application Programming Interface (API). While comparable to web scraping, APIs are much more user friendly and communicate better with R. This makes it easier to download a large amount of data at once and import the results into R. There are APIs for many popular websites, such as <a href="https://www.mediawiki.org/wiki/API:Main_page">Wikipedia</a>, <a href="https://developer.twitter.com/en/docs">Twitter</a>, <a href="https://www.wunderground.com/">Weather Underground</a>, <a href="https://developer.nytimes.com/">The New York Times</a>, the <a href="https://data.europa.eu/en">European Union</a> and so on.</p>
<p>While web scraping, in general, is easy with the <code>rvest</code> package, for the APIs you often need a specific package. For example, for Twitter there is the <code>rtweet</code> package, for Facebook <code>rFacebook</code>, and <code>ggmap</code> for Google maps. Also, you often, if not always, need to register first before you can use an API. Yet, note that Facebook has recently taken steps in restricting access to their public APIs for research purposes. As such, free research on Facebook users’ posts is no longer an option <span class="citation">(<a href="#ref-Freelon2018a" role="doc-biblioref">Freelon, 2018</a>; <a href="#ref-Perriam2020a" role="doc-biblioref">Perriam et al., 2020</a>)</span>.</p>
<p>Having said this, there are many APIs with associated R packages made by researchers, for researchers. Let’s look at an example using an API for the New York Times. If you look at the website (<a href="https://developer.nytimes.com/" class="uri">https://developer.nytimes.com/</a>), you find that we can get information ranging from articles to books and reviews.</p>
<p>Before we start here, we first have to maintain permission to use the API. For this, register on the site and log in. Then, make a new <strong>app</strong> under: <a href="https://developer.nytimes.com/my-apps" class="uri">https://developer.nytimes.com/my-apps</a> and ensure you select the movie reviews. Then, you can click on the new app to see your key under <strong>API Keys</strong>. It is this string of codes and letters you will have to place at the <code>[YOUR_API_KEY_HERE]</code> section.</p>
<p>Now, let us first load the packages:</p>
<div class="sourceCode" id="cb39"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb39-1"><a href="importing-data.html#cb39-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyverse)</span>
<span id="cb39-2"><a href="importing-data.html#cb39-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(httr)</span>
<span id="cb39-3"><a href="importing-data.html#cb39-3" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(jsonlite)</span></code></pre></div>
<p>We can then build our request. As you can see on the site, the request requires us to give a search term (here we choose “love”). Also, we can set a time frame from which we want to sample the reviews:</p>
<div class="sourceCode" id="cb40"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb40-1"><a href="importing-data.html#cb40-1" aria-hidden="true" tabindex="-1"></a>reviews <span class="ot">&lt;-</span> <span class="fu">fromJSON</span>(<span class="st">&quot;https://api.nytimes.com/svc/movies/v2/reviews/search.json?query=love&amp;opening-date=2000-01-01:2020-01-01&amp;api-key=[YOUR_API_KEY_HERE]&quot;</span>)</span></code></pre></div>
<p>The result is a JSON object that you can see in the environment. While JSON (JavaScript Object Notation) is a generic way in which information is easy to share - and is thus often used - it is not in an ideal form. So, we change the JSON information to a data frame using the following:</p>
<div class="sourceCode" id="cb41"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb41-1"><a href="importing-data.html#cb41-1" aria-hidden="true" tabindex="-1"></a>reviews_df <span class="ot">&lt;-</span> <span class="fu">fromJSON</span>(<span class="st">&quot;https://api.nytimes.com/svc/movies/v2/reviews/search.json?query=love&amp;opening-date=2000-01-01:2020-01-01&amp;api-key=[YOUR_API_KEY_HERE]&quot;</span>,</span>
<span id="cb41-2"><a href="importing-data.html#cb41-2" aria-hidden="true" tabindex="-1"></a>    <span class="at">flatten =</span> <span class="cn">TRUE</span>) <span class="sc">%&gt;%</span></span>
<span id="cb41-3"><a href="importing-data.html#cb41-3" aria-hidden="true" tabindex="-1"></a>    <span class="fu">data.frame</span>()</span></code></pre></div>
<p>You can now find all the information in the new <code>reviews_df</code> object, which contains various information about the movie. As we can see though, having a package makes things easier, though more limited.</p>
</div>
<div id="import-using-web-scraping" class="section level2 hasAnchor" number="3.6">
<h2><span class="header-section-number">3.6</span> Import using Web Scraping<a href="importing-data.html#import-using-web-scraping" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>If there is no specific API, we can also choose to scrape the website. The logic of web scraping is that we use the structure of the underlying HTML document to find and download the text we want. Note though that not all websites encourage (or even allow) scraping. So, do have a look at their disclaimer before we do so. You can do this by either checking the website’s <strong>Terms and Conditions</strong> page, or the <strong>robots.txt</strong> file that you can usually find appended at the home page (e.g. <a href="https://www.facebook.com/robots.txt" class="uri">https://www.facebook.com/robots.txt</a> ).</p>
<p>In the following example, we will see how one can download information from the <a href="https://www.imdb.com">Internet Movie Database (IMDb)</a>. Note that the IMDb does not allow you to do any web scraping, so the following example is for illustration purposes only! If you do want to analyse IMDB data, you can download the official datasets here: <a href="https://datasets.imdbws.com/" class="uri">https://datasets.imdbws.com/</a>. Also, have a look at the documentation here before you start: <a href="https://www.imdb.com/interfaces/" class="uri">https://www.imdb.com/interfaces/</a>. If you would like to learn more about web scraping in the context of quantitative text analysis have a look at the textbook by <span class="citation">Munzert et al. (<a href="#ref-Munzert2014a" role="doc-biblioref">2014</a>)</span>.</p>
<p>Here, we will show how to download some of the reviews that IMDb is made up of. The first command, <code>read_html</code> downloads this whole page. If you look at this page in your browser, you see that there are many other things on there besides the user review. To tell R which part is the text to download, we use the <code>html_nodes</code> command. This command looks for a certain header on the HTML page and starts downloading from there. The <code>html_text</code> command then reads that bit of text and puts it into the object. Note that the <code>%&gt;%</code> command we use here is what we call a <em>pipe</em>. What it does is that it transports the output of one command into another, without saving it to an intermediate object. So here, we first download the HTML, find the right header, and only then save it into an object. Having done this for three reviews, we then bind them together:</p>
<div class="sourceCode" id="cb42"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb42-1"><a href="importing-data.html#cb42-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(rvest)</span>
<span id="cb42-2"><a href="importing-data.html#cb42-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-3"><a href="importing-data.html#cb42-3" aria-hidden="true" tabindex="-1"></a>review1 <span class="ot">&lt;-</span> <span class="fu">read_html</span>(<span class="st">&quot;http://www.imdb.com/title/tt1979376/&quot;</span>) <span class="sc">%&gt;%</span></span>
<span id="cb42-4"><a href="importing-data.html#cb42-4" aria-hidden="true" tabindex="-1"></a>    <span class="fu">html_nodes</span>(<span class="st">&quot;#titleUserReviewsTeaser p&quot;</span>) <span class="sc">%&gt;%</span></span>
<span id="cb42-5"><a href="importing-data.html#cb42-5" aria-hidden="true" tabindex="-1"></a>    <span class="fu">html_text</span>()</span>
<span id="cb42-6"><a href="importing-data.html#cb42-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-7"><a href="importing-data.html#cb42-7" aria-hidden="true" tabindex="-1"></a>review2 <span class="ot">&lt;-</span> <span class="fu">read_html</span>(<span class="st">&quot;http://www.imdb.com/title/tt6806448/&quot;</span>) <span class="sc">%&gt;%</span></span>
<span id="cb42-8"><a href="importing-data.html#cb42-8" aria-hidden="true" tabindex="-1"></a>    <span class="fu">html_nodes</span>(<span class="st">&quot;#titleUserReviewsTeaser p&quot;</span>) <span class="sc">%&gt;%</span></span>
<span id="cb42-9"><a href="importing-data.html#cb42-9" aria-hidden="true" tabindex="-1"></a>    <span class="fu">html_text</span>()</span>
<span id="cb42-10"><a href="importing-data.html#cb42-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-11"><a href="importing-data.html#cb42-11" aria-hidden="true" tabindex="-1"></a>review3 <span class="ot">&lt;-</span> <span class="fu">read_html</span>(<span class="st">&quot;http://www.imdb.com/title/tt7131622/&quot;</span>) <span class="sc">%&gt;%</span></span>
<span id="cb42-12"><a href="importing-data.html#cb42-12" aria-hidden="true" tabindex="-1"></a>    <span class="fu">html_nodes</span>(<span class="st">&quot;#titleUserReviewsTeaser p&quot;</span>) <span class="sc">%&gt;%</span></span>
<span id="cb42-13"><a href="importing-data.html#cb42-13" aria-hidden="true" tabindex="-1"></a>    <span class="fu">html_text</span>()</span>
<span id="cb42-14"><a href="importing-data.html#cb42-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-15"><a href="importing-data.html#cb42-15" aria-hidden="true" tabindex="-1"></a>reviews_scraping <span class="ot">&lt;-</span> <span class="fu">c</span>(review1, review2, review3)</span>
<span id="cb42-16"><a href="importing-data.html#cb42-16" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(reviews)</span></code></pre></div>
<p>The resulting object <code>reviews</code> now carries all the information we need. Yet, given that we are dealing with websites, expect there to be many strange characters and symbols that we will need to remove later on.</p>

</div>
</div>
<h3>References<a href="references.html#references" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<div id="refs" class="references csl-bib-body hanging-indent" entry-spacing="2">
<div id="ref-Freelon2018a" class="csl-entry">
Freelon, D. (2018). <span class="nocase">Computational Research in the Post-API Age</span>. <em>Political Communication</em>, <em>35</em>(4), 665–668. <a href="https://doi.org/10.1080/10584609.2018.1477506">https://doi.org/10.1080/10584609.2018.1477506</a>
</div>
<div id="ref-Lowe2011b" class="csl-entry">
Lowe, W. (2011). <em><span>JFreq: Count Words, Quickly</span></em>. <a href="http://www.conjugateprior.org/software/jfreq/">http://www.conjugateprior.org/software/jfreq/</a>
</div>
<div id="ref-Munzert2014a" class="csl-entry">
Munzert, S., Rubba, C., Meißner, P., &amp; Nyhuis, D. (2014). <em>Automated data collection with r: A practical guide to web scraping and text mining</em>. John Wiley &amp; Sons.
</div>
<div id="ref-Perriam2020a" class="csl-entry">
Perriam, J., Birkbak, A., &amp; Freeman, A. (2020). <span class="nocase">Digital Methods in a Post-API Environment</span>. <em>International Journal of Social Research Methodology</em>, <em>23</em>(3), 277–290. <a href="https://doi.org/10.1080/13645579.2019.1682840">https://doi.org/10.1080/13645579.2019.1682840</a>
</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="installing-packages.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="reliability-validity.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"whatsapp": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": ["Introduction to Quantitative Text Analysis.pdf", "Introduction to Quantitative Text Analysis.epub"],
"search": {
"engine": "fuse",
"options": null
},
"toc": {
"collapse": "subsection"
},
"toolbar": {
"position": "static"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
